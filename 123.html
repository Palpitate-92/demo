<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>研究生面试分组安排</title>
</head>


<body>
    <input type='file' accept='text/plain' onchange='openFile(event)'>
    <script>
         function shuttle(arr){
            for(let i=0;i<arr.length;i++){
                let random=Math.floor(Math.random()*(i+1));
                [arr[i], arr[random]] = [arr[random], arr[i]];
            }
        }
        function getInfo(nameList,source){
            for(let i=0,j,k,len=0;i<source.length;i=j+1,len=nameList.length)
            {
                nameList[len]='';
                for(j=i;j<source.length&&source[j]!='\n';j++)
                {
                    nameList[len]+=source[j];
                }
                nameList[len]+='\n';
            }
        }
        
        var openFile = function (event)
        {
        var input = event.target;
        var reader = new FileReader();
        reader.onload = function () 
        {
            let nameList=[];
            getInfo(nameList,reader.result);

            shuttle(nameList);
        
            for(let i=0,k=1;i<nameList.length;i++){
                if(i%8==0){
                    document.body.innerHTML += '第'+k+'组'+'<br>';
                    k++;
                }
                document.body.innerHTML += nameList[i]+'<br>';
        }
           
        };
        reader.readAsText(input.files[0],'utf-8');
         };
      
    </script>
    <h1>研究生面试分组安排</h1>

</body>

</html>